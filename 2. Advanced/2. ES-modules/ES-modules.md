# ES-модули (ECMAScript Modules)

ES-модули (ECMAScript Modules) — это система модулей, которая была введена в стандарте ECMAScript 6 (ES6) и позволяет организовать код в отдельные модули, которые можно импортировать и экспортировать для повторного использования в разных частях программы. ES-модули обеспечивают более чистую и безопасную структуру кода.
Основные особенности ES-модулей:

- Строгий режим: В ES-модулях код всегда выполняется в строгом режиме (strict mode).
- Асинхронная загрузка: Модули могут загружаться асинхронно, что помогает в более эффективном управлении зависимостями.
- Только один экспорт/импорт для каждой сущности: Модули обеспечивают уникальность имен при экспорте и импорте.

Модуль — это чёрный ящик с одним входом (импорт) и одним выходом (экспорт), 
через которые этот модуль «общается» с другими.

Код модуля выполняется лишь раз

`type="module"` - изолирован от других скриптов, чтобы получить доступ нужно использовать export/import


Основные подходы к импорту и экспорту в ES-модулях:

  *  Именованный экспорт
  *  Экспорт по умолчанию
  *  Переименование при импорте
  *  Импорт всего модуля
  *  Динамический импорт

## Именованный экспорт (Named export)
Это когда из модуля экспортируются конкретные переменные, функции или классы с именами.
```js
// module.js
export const foo = 42;
export function bar() { return 'Hello'; }
```
Для импорта таких сущностей необходимо использовать соответствующие имена:
```js
// main.js
import { foo, bar } from './module.js';

console.log(foo); // 42
console.log(bar()); // 'Hello'
```
Можно также использовать export и import вместе:
```js
// module.js
const foo = 42;
const bar = () => 'Hello';
export { foo, bar };

// main.js
import { foo, bar } from './module.js';
```

## Экспорт по умолчанию (Default export)
Экспорт по умолчанию используется, когда из модуля экспортируется одна основная сущность, которая не имеет имени.
```js
// module.js
export default function() {
  return 'Hello from default export';
}
```
Импортируется экспорт по умолчанию без фигурных скобок:
```js
// main.js
import myFunction from './module.js';

console.log(myFunction()); // 'Hello from default export'
```
Важно, что по умолчанию может быть только один экспорт в модуле:
```js
// Это валидный экспорт по умолчанию
export default function foo() { ... }
// И это валидный экспорт по умолчанию
export default 42;
```

## Переименование при импорте
Иногда полезно изменить имя при импорте, если оно не совпадает с тем, что нужно:
```js
// module.js
export const foo = 42;
```
```js
// main.js
import { foo as bar } from './module.js';

console.log(bar); // 42
```

## Импорт всего модуля (import * as)
Если нужно импортировать все экспорты из модуля в один объект:
```js
// module.js
export const foo = 42;
export function bar() { return 'Hello'; }
```
```js
// main.js
import * as module from './module.js';

console.log(module.foo); // 42
console.log(module.bar()); // 'Hello'
```

## Динамический импорт (Dynamic import)
Динамический импорт позволяет загружать модули асинхронно, когда это нужно. Это полезно для разделения кода и ленивой загрузки.
```js
// main.js
async function loadModule() {
  const module = await import('./module.js');
  console.log(module.foo); // доступ к foo из модуля
}

loadModule();
```
