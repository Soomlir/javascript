# localStorage
`localStorage` — это механизм для хранения данных в браузере, который позволяет сохранять информацию в виде пар "ключ-значение". Данные, записанные в `localStorage`, сохраняются между сессиями браузера и не удаляются при закрытии окна или перезагрузке страницы, то есть они остаются в памяти до тех пор, пока не будут явно удалены.

## Зачем нужно localStorage?
`localStorage` используется для хранения данных на клиентской стороне, таких как:
- Настройки пользователя (например, темы оформления).
- Сессионные данные, которые нужно сохранить между перезагрузками страниц (например, товары в корзине).
- Логины, идентификаторы сессий или другие данные, которые должны быть доступны для пользователя на протяжении долгого времени.
- Легкие кэшированные данные, чтобы снизить нагрузку на сервер.

## Тонкости работы с localStorage
1. Постоянство данных:
  - Данные в `localStorage` сохраняются даже после закрытия браузера, перезагрузки страницы или выключения компьютера. Это делает его полезным для хранения информации, которая должна быть доступна на протяжении долгого времени.
2. Емкость:
  - Хранилище имеет ограниченный размер (обычно около 5-10 МБ на домен). Если данные превышают этот лимит, то будет выброшена ошибка.
3. Типы данных:
  - В `localStorage` можно хранить только строки. Если нужно сохранить объект, массив или другую структуру данных, их нужно преобразовать в строку с помощью `JSON.stringify()` перед записью и обратно в объект с помощью `JSON.parse()` при чтении.
4. Безопасность:
  - Данные в `localStorage` доступны через JavaScript на клиенте, поэтому они могут быть легко перехвачены с помощью инструментов разработчика или в случае уязвимости браузера. Важно избегать хранения чувствительных данных, таких как пароли.
5. Доступность данных:
  - Данные в `localStorage` доступны только в рамках одного домена и одного протокола. Это означает, что они не могут быть переданы между разными сайтами.

## Как использовать localStorage?
Вот основные методы для работы с `localStorage`:
1. Запись данных: Для записи данных в `localStorage` используется метод `setItem()`:
```js
localStorage.setItem('key', 'value');
```

```js
localStorage.setItem('username', 'JohnDoe');
```

2. Чтение данных: Чтобы получить данные, используйте метод `getItem()`:
```js
let username = localStorage.getItem('username');
console.log(username);  // Выведет 'JohnDoe'
```

3. Удаление данных: Для удаления данных можно использовать метод `removeItem()`:
```js
localStorage.removeItem('username');
```

4. Очистка всех данных: Если нужно удалить все данные, хранящиеся в `localStorage`, используется метод `clear()`:
```js
localStorage.clear();
```

5. Проверка на наличие данных: Для проверки, есть ли данные по определенному ключу, можно использовать `getItem()` и сравнить с `null`:
```js
if (localStorage.getItem('username') !== null) {
    console.log('Username is set');
} else {
    console.log('Username is not set');
}
```

6. Пример хранения объектов:
```js
let user = { name: 'John', age: 30 };
localStorage.setItem('user', JSON.stringify(user));  // Сохраняем объект как строку

let storedUser = JSON.parse(localStorage.getItem('user'));  // Читаем и восстанавливаем объект
console.log(storedUser);  // { name: 'John', age: 30 }
```

7. События: В `localStorage` есть событие, которое срабатывает, если данные были изменены другой вкладкой или окном в браузере:
```js
window.addEventListener('storage', function(event) {
    console.log('Key:', event.key);
    console.log('Old Value:', event.oldValue);
    console.log('New Value:', event.newValue);
});
```
